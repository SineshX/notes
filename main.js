 const _0xabc1 = document.getElementById('_0x3c'); const _0xdef2 = document.querySelector('._0x7a'); const _0x12b3 = document.getElementById('_0x5e'); const _0x34c4 = document.querySelector('._0x8b'); const _0x56d5 = document.getElementById('_0x4d'); const _0x78e6 = document.getElementById('_0x1a'); const _0x90f7 = document.getElementById('_0x2b'); class _0x1a9b { constructor() { this.notesRef = db.collection("notes"); } async _0x9a2d(title) { try { const doc = await this.notesRef.doc(title).get(); if (doc.exists) { const data = doc.data(); return data._0x33cc || data[atob('ZW5jcnlwdGVkVGV4dA==')] || data[atob('Y29udGVudA==')]; } else { return null; } } catch (error) { console.error('Error getting note:', error); return null; } } async _0x1e3f(title, _0x33cc) { try { await this.notesRef.doc(title).set({ _0x33cc }, { merge: true }); console.log('Note Added/Updated'); } catch (error) { console.error('Error Adding/Updating Note:', error); } } } async function _0x99ff() { const _0x2c4d = new _0x1a9b(); const _0x3f2a = (title) => { const pwd = _0x90f7.value; return pwd ? title + '::' + pwd : title; }; const _0x8b1c = async () => { const title = _0x78e6.value.trim(); if (title) { const _0x11aa = await _0x2c4d._0x9a2d(title); if (_0x11aa) { const key = _0x3f2a(title); const _0x22bb = _0x7c8a(_0x11aa, key); if (_0x22bb !== null && _0x22bb !== '') { _0x56d5.value = _0x22bb; } else { _0x56d5.value = 'Failed to decrypt. Missing or incorrect password?'; } } else { _0x56d5.value = ''; } _0xdef2.style.display = 'block'; } }; _0xabc1.addEventListener('click', _0x8b1c); _0x78e6.addEventListener('keydown', async (event) => { if (event.key === 'Enter') { _0x8b1c(); } }); _0x90f7.addEventListener('keydown', async (event) => { if (event.key === 'Enter') { _0x8b1c(); } }); _0x12b3.addEventListener('click', async () => { const title = _0x78e6.value.trim(); const text = _0x56d5.value.trim(); if (title && text) { const key = _0x3f2a(title); const _0x33cc = _0x4e5b(text, key); await _0x2c4d._0x1e3f(title, _0x33cc); _0xdef2.style.display = 'none'; } }); document.addEventListener('keydown', async (event) => { if (event.ctrlKey && event.key === 's') { event.preventDefault(); const title = _0x78e6.value.trim(); const text = _0x56d5.value.trim(); if (title && text) { const key = _0x3f2a(title); const _0x33cc = _0x4e5b(text, key); await _0x2c4d._0x1e3f(title, _0x33cc); _0xdef2.style.display = 'none'; } } }); } function _0x4e5b(text, _0xccfa) { let _0x44dd = _0xccfa; for (let i = 0; i < 50; i++) { _0x44dd = CryptoJS.SHA256(_0x44dd).toString(); } const _0x88bc = CryptoJS.AES.encrypt(text, _0x44dd).toString(); const _0x99cd = _0x88bc.split('').reverse().join(''); const _0x77ab = btoa(_0x99cd); const _0xbbef = CryptoJS.MD5(_0x44dd).toString(); const _0xaade = CryptoJS.AES.encrypt(_0x77ab, _0xbbef).toString(); return _0xaade; } function _0x7c8a(_0x33cc, _0xccfa) { try { let _0x44dd = _0xccfa; for (let i = 0; i < 50; i++) { _0x44dd = CryptoJS.SHA256(_0x44dd).toString(); } const _0xbbef = CryptoJS.MD5(_0x44dd).toString(); const _0x66ff = CryptoJS.AES.decrypt(_0x33cc, _0xbbef); const _0x77ab = _0x66ff.toString(CryptoJS.enc.Utf8); if (!_0x77ab) throw new Error("Not a complex note"); const _0x99cd = atob(_0x77ab); const _0x88bc = _0x99cd.split('').reverse().join(''); const _0x55ee = CryptoJS.AES.decrypt(_0x88bc, _0x44dd); const _0x22bb = _0x55ee.toString(CryptoJS.enc.Utf8); if (_0x22bb) return _0x22bb; throw new Error("Empty decrypted text"); } catch (error) { try { const oldBytes = CryptoJS.AES.decrypt(_0x33cc, _0xccfa); const oldDecryptedText = oldBytes.toString(CryptoJS.enc.Utf8); if (oldDecryptedText) return oldDecryptedText; } catch (e) { } console.error('Error decrypting note:', error); return null; } } _0x99ff(); 